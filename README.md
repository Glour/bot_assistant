# Описание бота "bot_assistant"

Бот "bot_assistant" представляет собой Telegram-бот, интегрированный с моделью GPT-3 от OpenAI. Бот позволяет
пользователям взаимодействовать с моделью, задавая вопросы и получая сгенерированные ответы.

## Основные возможности бота

- Генерация ответов на основе введенных пользователем вопросов.
- Учет истории переписки для поддержания контекста и более связанных ответов.
- Сохранение истории чата в формате JSON, включая входящие сообщения и ответы бота.
- Обработка ошибок API OpenAI и повторная попытка запроса при возникновении исключений.
- Логирование событий и ошибок в файл журнала.

## Технические детали

Бот реализован на базе фреймворка aiogram, который облегчает разработку Telegram-ботов в Python. Бот использует
асинхронные функции и состояния для обработки входящих сообщений и управления состоянием диалога.

Пользователи могут обращаться к боту, отправлять текстовые сообщения с вопросами и получать ответы от модели GPT-3.
Каждый диалог сохраняется в отдельном файле JSON, чтобы обеспечить отслеживание истории переписки.

Бот "bot_assistant" предоставляет удобный способ использования модели GPT-3 для генерации ответов на различные вопросы и
поддержания диалога с пользователями в Telegram.



# Инструкция по развертыванию бота "bot_assistant" на сервере

Следующая инструкция поможет вам развернуть бота "bot_assistant" на сервере для его использования в Telegram.

## Шаг 1: Получение доступа к серверу и клонирование репозитория 

Получите доступ к серверу, на котором вы планируете развернуть бота. Убедитесь, что у вас есть необходимые права и
учетные данные для доступа.

1. Установка Git:
   - Установите Git на сервере, если его еще нет. Вы можете использовать команду `sudo apt-get install git` для установки на Linux-сервере.

2. Клонирование репозитория:
   - Создайте новую директорию, где будет размещен ваш проект бота, используя команду `mkdir <путь_к_директории/название_директории>`.
   - Перейдите в созданную директорию, используя команду `cd <путь_к_директории>`.
   - Склонируйте репозиторий с кодом вашего бота из удаленного репозитория Git с помощью команды `git clone <URL_репозитория>`.

     ```bash
     git clone https://github.com/Glour/bot_assistant.git
     ```

     Здесь `https://github.com/Glour/bot_assistant.git` - это URL вашего удаленного репозитория Git, откуда вы хотите склонировать код.

## Шаг 2: Установка зависимостей

1. Убедитесь, что на сервере установлен Python версии 3.7 или выше.

2. Перейдите в созданную директорию, используя команду `cd <путь_к_директории>` и создайте виртуальное окружение для проекта:
   
   ```
   cd bot_assistant/
   python3 -m venv bot_env
   ```

3. Активируйте виртуальное окружение:

   ```
   source bot_env/bin/activate
   ```

4. Установите необходимые зависимости, указанные в файле `requirements.txt`:

   ```
   pip install -r requirements.txt
   ```

## Шаг 3: Настройка Telegram-бота

1. Создайте нового Telegram-бота, следуя инструкциям [BotFather](https://core.telegram.org/bots#botfather).

2. Получите токен вашего бота от BotFather.

3. В директории проекта создайте файл `.env` на основе файла `.env.example`, который уже находится в вашем репозитории. Выполните следующую команду, чтобы скопировать файл `.env.example` в `.env`:

     ```bash
   cp settings/.env.example  settings/.env
     ```

4. В файле `.env`, установите значение переменной `TELEGRAM_API_TOKEN` равным вашему токену:
   
   ```bash
   nano settings/.env
   ```

   ```
   BOT_TOKEN=YOUR_TELEGRAM_API_TOKEN
   ```

## Шаг 4: Настройка OpenAI

1. Получите ключ API OpenAI, следуя инструкциям на [официальном сайте OpenAI](https://www.openai.com/).

2. В файле `.env`, установите значение переменной `OPENAI_API_KEY` равным вашему ключу:
   
   ```bash
   nano settings/.env
   ```

   ```
   OPENAI_API_KEY=YOUR_OPENAI_API_KEY
   ```

## Шаг 5: Запуск бота

1. Запустите бота с помощью команды:

   ```
   python bot.py
   ```

2. Ваш бот "bot_assistant" должен быть успешно развернут на сервере и готов к использованию.

## Заключение

Поздравляем! Вы успешно развернули бота "bot_assistant" на сервере. Теперь вы можете начать общение с ботом в Telegram
и использовать его для генерации ответов на ваши вопросы.
